import Cookies from "js-cookie"

import { api } from "../init"
import ROUTES from "../ROUTES.json"

export function authenticate(credentials) {

    return api(ROUTES.USER_AUTHENTICATE)
        .then(transport => {
            return transport({
                body: JSON.stringify(credentials)
            })
                .then(response => {
                    const token = response.headers.get("Authorization")
                    Cookies.set("token", token)
                    return response
                })
        })
}