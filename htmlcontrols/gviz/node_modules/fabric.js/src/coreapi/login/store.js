import { configureStore, connectStore } from 'midux'
import thunk from 'redux-thunk'
import {
    config,
    login,
} from './reducers'

const middleware = [
    thunk
],
    reducers = {
        config,
        login,
    }

// not working w/ webpack-dev-server
//if(process.env.BH_ENV !== 'prod') {
//   middleware.push(require('redux-logger')()) // eslint-disable-line
//}

export const store = configureStore(reducers, middleware, { config: window._BH_LOGIN_CONFIG })
export const connect = connectStore(store)