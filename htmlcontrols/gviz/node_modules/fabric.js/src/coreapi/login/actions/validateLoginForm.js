import validate from "validate.js"

import {
    LOGIN_FORM_INVALID,
    LOGIN_FORM_VALID,
    LOGIN_FORM_CONSTRAINTS,
} from "../constants"

export function ValidateLoginForm() {

    return (dispatch, getState) => {

        const formErrors = validate(getState().login, LOGIN_FORM_CONSTRAINTS)
        if (formErrors)
            return dispatch({
                type: LOGIN_FORM_INVALID,
                formErrors,
            })
        dispatch({
            type: LOGIN_FORM_VALID,
        })
    }
}